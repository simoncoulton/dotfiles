"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{45849:(e,i,s)=>{s.d(i,{u:()=>x});var t=s(97500),a=s.n(t),r=s(11892),l=s(70462),n=s(58571),c=s(45292),d=s(6309),o=s(4139),u=s(63089),m=s(86070);const x=({uri:e,src:i,playAriaLabel:s,onClick:t,isPlaying:x,isActive:h,isLocked:j,isEpisode:y,isVideo:p,spec:g})=>{const f=(0,c.W)(),k=(0,o.s)(),b=(0,r.YQ)((i=>{let s;if(f({type:"click",intent:x?"pause":"play"}),g){const i=g.playbackButtonFactory();let t;t=h&&x?i.hitPause({itemToBePaused:e}):h&&!x?i.hitResume({itemToBeResumed:e}):i.hitPlay({itemToBePlayed:e}),s=k.logInteraction(t)}t(i,s)}),d.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,m.jsx)(n.e,{src:i,isEpisode:y,isVideo:p}),(0,m.jsx)(l.x,{className:a()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:b,isPlaying:x,isLocked:j,playAriaLabel:s})]})}},88596:(e,i,s)=>{s.d(i,{U:()=>L});var t=s(41331),a=s(30758),r=s(97500),l=s.n(r),n=s(77),c=s(15231),d=s(57485),o=s(5562),u=s(33130),m=s(83802),x=s(4924),h=s(99186);const j="main-topBar-contentArea",y="queue-tabBar-headerIsCentered",p="queue-tabBar-headerItem",g="queue-tabBar-moreButton",f="queue-tabBar-moreButtonActive",k="yxf_6IsQEmHjijEBUMTP",b="queue-tabBar-active",v="queue-tabBar-headerItemLink",P="queue-tabBar-header",A="queue-tabBar-chevron";var E=s(86070);const R=({items:e,activeItemId:i})=>(0,E.jsx)(x.W,{children:e.map((e=>e.disabled?(0,E.jsx)(h.D,{disabled:!0,role:"menuitemradio",className:k,onClick:e.handleClick,children:e.title},e.uri):(0,E.jsx)(h.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>l()(k,{[b]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var I=s(11892),w=s(70329),C=s(10259);const N=(0,a.memo)((function({isCentered:e,links:i,landmarkLabel:s,className:r}){const x=(0,a.useRef)(null),[h,k]=(0,a.useState)([]),[N,B]=(0,a.useState)(0),[T,U]=(0,a.useState)([]),S=function(){const[e,i]=(0,a.useState)(window.innerWidth),{scrollNodeChildRef:s}=(0,a.useContext)(w.bi),t=(0,I.YQ)((e=>{e?.width&&i(e.width)}),250);return(0,C.w)({refOrElement:s,observeOnly:"width",onResize:t}),e}()??1/0,{pathname:L}=(0,n.zy)(),O=i.find((e=>e.to===L));return(0,a.useEffect)((()=>{x.current&&B(x.current.clientWidth)}),[S]),(0,a.useEffect)((()=>{if(!x.current)return;const e=Array.from(x.current.children).map((e=>e.clientWidth));k(e)}),[i]),(0,a.useEffect)((()=>{if(!x.current)return;if(h.slice(0,-1).reduce(((e,i)=>e+i),0)<=N)return void U([]);const e=h.reduce(((e,i)=>e>i?e:i),0),i=[];let s=e;h.forEach(((e,t)=>{N>=s+e?s+=e:i.push(t)})),U(i)}),[N,h]),(0,E.jsx)("nav",{className:l()(r,j),"aria-label":s,children:(0,E.jsxs)("ul",{className:e?y:P,ref:x,children:[i.filter(((e,i)=>!T.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,E.jsx)(a.Fragment,{children:i((0,E.jsx)("li",{className:p,children:e.disabled?(0,E.jsx)("div",{className:v,children:(0,E.jsx)(c.E,{variant:"bodySmallBold",children:e.title})}):(0,E.jsx)(m.k,{end:!0,className:({isActive:e})=>l()(v,{[b]:e}),to:e.to,onClick:e.handleClick,children:(0,E.jsx)(c.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),T.length||0===h.length?(0,E.jsx)("li",{className:p,children:(0,E.jsx)(u.t,{renderInline:!0,menu:(0,E.jsx)(R,{items:i.filter(((e,i)=>T.includes(i))),activeItemId:O?.itemId}),children:(e,i,s)=>(0,E.jsxs)("button",{className:l()(g,{[f]:O}),type:"button",onClick:i,ref:s,children:[(0,E.jsx)(c.E,{variant:"bodySmallBold",children:O?O.title:t.Ru.get("more")}),e?(0,E.jsx)(d.J,{size:"small",className:A,"aria-hidden":"true"}):(0,E.jsx)(o.y,{size:"small",className:A,"aria-hidden":"true"})]})})}):null]})})}));var B=s(62963);const T="XfifUos51Clgs5a6nf2m",U=()=>{const e=[{title:t.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue"},{title:t.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}];return(0,E.jsx)(B.g,{children:(0,E.jsx)(N,{className:T,links:e})})};var S=s(92909);const L=({children:e})=>{const i=(0,S.y)();return(0,E.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,E.jsx)(U,{})]})}},79331:(e,i,s)=>{s.r(i),s.d(i,{default:()=>re});var t=s(91341),a=s(15231),r=s(41331),l=s(63605),n=s(30758),c=s(12737),d=s(20507),o=s(76276),u=s(59677),m=s(93720),x=s(35658),h=s(12953),j=s(89162),y=s(36450),p=s(50597),g=s(57103),f=s(73689),k=s(69197),b=s(45849),v=s(65647),P=s(62385),A=s(33589),E=s(23885),R=s(31845),I=s(78089),w=s(77131),C=s(68732),N=s(3068),B=s(8398),T=s(68702),U=s(30023),S=s(44817),L=s(98913),O=s(78330),M=s(65312),_=s(98882),D=s(86317),G=s(42668),q=s(63089),F=s(86070);const H=n.memo((function({uri:e,name:i,duration_ms:s,index:t,imgUrl:a,artists:l,album:n,isExplicit:c,isMOGEFRestricted:d,contextItem:o,type:H}){const{isActive:K,isPlaying:Q,triggerPlay:W,togglePlay:z}=(0,_.P)({uri:e,pages:[{items:[{...o}]}]},{featureIdentifier:"history"}),J=H===D.c.TRACK,V=H===D.c.EPISODE,Y=H===D.c.CHAPTER,$=(0,M.T)(e),{isPlayable:X,isAnyArtistBanned:Z}=(0,T.g)(e,{isPlayable:!0,isLocal:(0,u.Pk)(e),isOutOfMarket:!1,artistUris:l?.map((e=>e.uri))}),{unBanArtists:ee}=(0,B.M)(l.map((e=>e.uri))),{badges:ie,hasBadges:se}=(0,G.b)({downloadAvailability:$,isExplicit:c,isMOGEFRestricted:d}),te=l?.map((e=>e.name)).join(r.Ru.getSeparator())||"";let ae;return V?ae=(0,F.jsx)(h.b,{uri:e,contextUri:e,showUri:n.uri}):Y?ae=(0,F.jsx)(x.r,{uri:e}):J&&(0,u.Pk)(e)?ae=(0,F.jsx)(j.A,{uri:e,contextUri:e}):J&&(ae=(0,F.jsx)(y.P,{uri:e,contextUri:e,albumUri:n.uri,artists:l})),(0,F.jsx)(O.pZ,{value:"row",index:t,children:(0,F.jsx)(m.h,{menu:ae,children:(0,F.jsxs)(C.w,{uri:e,contextUri:e,index:t,ariaRowIndex:t,onTriggerPlay:()=>{W()},isActive:K,isPlayable:X,isAnyArtistBanned:Z,handleArtistBanUndoClick:ee,ageRestricted:d,dragMetadata:{name:i,createdBy:te},children:[(0,F.jsxs)(E.U,{ariaColIndex:0,children:[(0,F.jsx)(b.u,{uri:e,src:a,isPlaying:Q,isActive:K,isLocked:!1,onClick:()=>{z()},isEpisode:(0,u.gH)(e),playAriaLabel:r.Ru.get("tracklist.a11y.play",i,te)}),(0,F.jsxs)(v.l,{children:[(0,F.jsx)(w.p,{titleText:i,children:i}),se&&(0,F.jsxs)(f.P,{children:[ie.download&&(0,F.jsx)(U._,{}),ie.explicit&&(0,F.jsx)(S.g,{}),ie.nineteen&&(0,F.jsx)(L.q,{className:q.A.nineteen,size:16})]}),(0,F.jsx)(I.p,{children:(0,u.U_)(e)?(0,F.jsx)(g.l,{artists:l}):l[0]?.name??""})]})]}),(0,F.jsx)(R.o,{ariaColIndex:2,children:(0,F.jsx)(p.g,{nonInteractive:(0,u.Pk)(e),uri:n.uri,name:n.name,creatorUri:l?.[0]?.uri,children:n.name})}),(0,F.jsxs)(A.l,{ariaColIndex:1,children:[!Y&&(0,F.jsx)(N.d,{uri:e,type:H}),(0,F.jsx)(k.P,{duration:s}),(0,F.jsx)(P.Y,{menu:ae,label:r.Ru.get("more.label.track",i,te)})]})]})})})}),((e,i)=>e.uri===i.uri));var K=s(21466),Q=s(45339),W=s(45841),z=s(40425),J=s(32415),V=s(37171),Y=s(91753),$=s(92686);const X=n.memo((function({items:e}){const i=(0,n.useCallback)(((e,i)=>{const s=(0,$.g)(e.images??[],{desiredSize:40});return(0,J.v)(e)?(0,F.jsx)(H,{index:i,uri:e.isLocal?e.uri:(0,K.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:D.c.TRACK},i+e.uri):(0,z.p)(e)?(0,F.jsx)(H,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:D.c.EPISODE},i+e.uri):(0,W.d)(e)?(0,F.jsx)(H,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:D.c.CHAPTER},i+e.uri):((0,Q.N)(e)||(0,V.v)(e)||(0,Y.k)(e),(0,F.jsx)(c.qq,{height:`${d.FL}px`}))}),[]),s=(0,n.useMemo)((()=>[o.$.TITLE_AND_ARTIST,o.$.ALBUM_OR_PODCAST,o.$.DURATION]),[]),t=(0,n.useCallback)((e=>({uri:e.uri})),[]);return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(O.pZ,{value:"play-history-tracklist",children:(0,F.jsx)(d.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:s,renderRow:i,resolveItem:t,tracks:e,nrTracks:e.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})}));var Z=s(48275);const ee="j0idwRGPXbi0ampiGHUF",ie="V6Kms48prL8QhkQxTJ2d",se=()=>{const{isLoading:e,data:i}=(0,Z.a)();return e?null:i?.items.length?(0,F.jsxs)("div",{className:ee,children:[(0,F.jsx)(a.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:ie,children:r.Ru.get("view.recently-played")}),(0,F.jsx)(X,{items:i.items})]}):(0,F.jsx)(l.H,{})};var te=s(88596),ae=s(92909);const re=()=>(0,ae.y)()?(0,F.jsx)(te.U,{children:(0,F.jsx)(se,{})}):(0,F.jsx)(t.$,{to:"/"})},21466:(e,i,s)=>{s.d(i,{a:()=>t});const t=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map