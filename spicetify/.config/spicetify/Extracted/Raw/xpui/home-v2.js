"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{77920:(e,s,t)=>{t.r(s),t.d(s,{SKELETON_CARDS_COUNT:()=>xe,SKELETON_SHELVES_COUNT:()=>he,default:()=>fe});var r=t(30758),n=t(97500),i=t.n(n),o=t(41978),a=t(77),c=t(39733),l=t(50946),d=t(41331),p=t(62462),u=t(62276),m=t(7029),g=t(67025),h=t(20769),x=t(45866),b=t(98812),j=t(65149),f=t(19019),w=t(98957);var v=t(76962),y=t(84266),C=t(15231),S=t(66475),k=t(45237),N=t(38117),M=t(26048),_=t(4139),R=t(78487);const A="iC5KPBY1LYMrQkGPnG8m";var L=t(86070);const P=()=>{const e=(0,o.wA)(),s=(0,_.s)(),{spec:t}=(0,R.r)(N.V,{}),n=(0,r.useCallback)((()=>{e(M.r8.actions.open()),s.logInteraction(t.learnMoreButtonFactory().hitUiReveal())}),[e,s,t]);return(0,L.jsxs)(C.E,{as:"p",semanticColor:"textBase",className:A,children:[(0,L.jsx)(S.p,{size:"small"}),d.Ru.get("home.dsa-message",(0,L.jsx)(k.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:n,children:d.Ru.get("home.dsa-message-link")}))]})};var T=t(63434),$=t(70370),E=t(78158),I=t(77674),D=t(74946),U=t(31385),z=t(51035),B=t(69798),F=t(57968),O=t(20920);const W="oncgBAFkunsYPz4icLG7",H="bctyR0DdgoudSxC6j8nw",J="ZlJQ9zbhmUTk2MeTziP7",Y="uOT2oirHdJA8NsGlsyA2",V="_0Zn5lYC3o0cU44PBPnvN",Z="V2fn7ev3_1mroI9UxjL7",G="iNxrs2Niil0QTvUYbTxf",Q=({isMWP:e})=>(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${Y} ${V}`,"aria-hidden":"true",children:[(0,L.jsx)("source",{src:(0,z.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,L.jsx)("source",{src:(0,z.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,L.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${Y} ${Z}`,"aria-hidden":"true",children:[(0,L.jsx)("source",{src:(0,z.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,L.jsx)("source",{src:(0,z.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),K=({isMWP:e})=>(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("picture",{children:[(0,L.jsx)("source",{srcSet:(0,z.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,L.jsx)("source",{srcSet:(0,z.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,L.jsx)("img",{className:`${Y} ${V}`,src:"",alt:""})]}),(0,L.jsxs)("picture",{children:[(0,L.jsx)("source",{srcSet:(0,z.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,L.jsx)("source",{srcSet:(0,z.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,L.jsx)("img",{className:`${Y} ${Z}`,src:"",alt:""})]})]}),X=(0,r.forwardRef)((({linkUri:e,loggedIn:s,isMWP:t,isStatic:r=!1,onClick:n},o)=>{const a=(0,F.y)(),c=(0,O.j)();return(0,L.jsx)("div",{className:W,ref:o,children:(0,L.jsxs)("div",{className:(0,E.Ju)("invertedLight",i()(H,{[J]:t})),children:[r||c?(0,L.jsx)(K,{isMWP:t}):(0,L.jsx)(Q,{isMWP:t}),(0,L.jsx)(I.Z,{as:"h2",variant:"brio",semanticColor:"textBase",className:G,children:s?d.Ru.get("shared.wrapped-banner.title"):d.Ru.get("shared.wrapped-banner.title-loggedout")}),(0,L.jsx)(I.Z,{as:"p",variant:a===B.E.SMALL||t?"mesto":"ballad",semanticColor:"textBase",children:s?d.Ru.get("shared.wrapped-banner.body"):d.Ru.get("shared.wrapped-banner.body-loggedout")}),(0,L.jsx)(D.$,{colorSet:"invertedDark",iconTrailing:U.H,href:e,target:"_blank",size:a===B.E.SMALL||t?"small":"medium",onClick:n,children:d.Ru.get("shared.wrapped-banner.button")})]})})}));var q=t(29971),ee=t(26205);const se=()=>{const e=(0,x.V)(),s=(0,c.NC)(f.ATM),{openURLWithSessionTransfer:t}=(0,q.L)(),{spec:n,logger:i}=(0,R.r)($.S,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),o=(0,r.useMemo)((()=>n.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[n]),a=(0,ee.t)(o),l="https://spotify.com/wrapped",d=(0,r.useCallback)((e=>{i.logInteraction(o.hitUiNavigate({destination:l})),t(l),e.preventDefault()}),[i,t,o]);return(0,L.jsx)(X,{linkUri:l,loggedIn:!e,onClick:d,ref:a,isStatic:s})};var te=t(76472),re=t(39530),ne=t(62963),ie=t(73346);const oe=()=>(0,c.NC)(f.FAj)===f.z3X.ONHOME?(0,L.jsx)(ne.g,{children:(0,L.jsx)(ie.o,{onSearch:!1})}):null;var ae=t(48648),ce=t(55964),le=t(74864),de=t(47234),pe=t(85961),ue=t(37708),me=t(72553),ge=t(20683);const he=6,xe=6,be=(0,r.memo)((({shelfCount:e,cardCount:s})=>(0,L.jsx)("section",{className:ge.A.home,"data-testid":"home-page",children:(0,L.jsxs)("div",{className:i()(ge.A.homepageContent,"contentSpacing"),children:[(0,L.jsx)(u.y,{withTitle:!1}),[...new Array(e).keys()].map(((e,t)=>(0,L.jsx)(re.f,{withTitle:!0,cardCount:s},t)))]})}))),je=({spec:e})=>{(0,le.m)("home");const s=(0,o.d4)(de.JJ),t=(0,a.zy)(),n=new URLSearchParams(t.search).get("pCountry"),{subfeedId:l=null}=(0,a.g)(),p=(0,c.NC)(f.MX4),u=p?y.SF:y.J3,{data:C,error:S,loading:k,extensions:N}=(0,v.B8)({timeZone:(0,y.Ff)(),sp_t:(0,w.v8)("sp_t")??"",country:n??s,facet:l,sectionItemsLimit:u},{gcTime:y.gO,staleTime:y.jl}),M=(0,c.NC)(f.Y_Z),_=(0,c.NC)(f.ATM),R=M||_,A=!(0,ce.p)();if((()=>{const e=(0,c.NC)(f.PV7),s=(0,h.vh)(),t=(0,b.c)(),n=(0,x.V)();(0,r.useEffect)((()=>{const r={category:"unauth_home_exposures",action:"unauth_home_page_visit",variant:e,label:"dwp",os:(0,j.f)(),sp_t:(0,w.v8)("sp_t")};t&&n&&s.send((0,g.r)(r))}),[e,t,s,n])})(),k)return(0,L.jsx)(be,{shelfCount:he,cardCount:xe});if(null!==S)return(0,L.jsx)(m.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")});const $=C?.home;if("HomeResponsePayload"!==$?.__typename)return(0,L.jsx)(m.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")});if(0===$.sectionContainer.sections.totalCount||0===$.sectionContainer.sections.items.length)return(0,pe.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,L.jsx)(m.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")});const E=(e=>{const s="object"==typeof e?.responseIds?e?.responseIds:void 0;return s?.["/home"]?.continuum})(N);return(0,L.jsx)("section",{className:i()(ge.A.home,p?ge.A.homepageWithCarousels:ge.A.homepage),"data-testid":"home-page",children:(0,L.jsxs)("div",{className:i()(ge.A.homepageContent,"contentSpacing"),children:[R&&(0,L.jsx)(se,{}),A&&(0,L.jsx)(P,{}),(0,L.jsx)(T.wd,{homeResponseId:E,children:(0,L.jsx)(te.g,{spec:e,greeting:$.greeting?.text??null,container:$.sectionContainer})})]})})},fe=()=>{const{spec:e}=(0,R.r)(l.Y,{data:{identifier:"home",uri:"spotify:home"}}),s=(0,ae.W)({type:"locale",uri:"home"});return(0,L.jsxs)(me.r,{spec:e,children:[(0,L.jsx)(p.Q,{children:(0,ue.pr)({i18n:d.Ru,shouldLocalize:s})}),(0,L.jsx)(r.Suspense,{fallback:null,children:(0,L.jsx)(oe,{})}),(0,L.jsx)(je,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.js.map