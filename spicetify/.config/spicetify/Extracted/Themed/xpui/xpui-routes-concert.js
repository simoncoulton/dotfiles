"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{49867:(e,t,s)=>{s.d(t,{A:()=>y});var a=s(30758),r=s(25805),i=s(15231),n=s(50369),o=s(91360),c=s(58708),l=s(97335);const d="wedRUk4eiBo9n9vqXLhU",m="hMbtEskyvMbDiwq1EScA",u="HYVIJaYYiCTgSCHie70L",h="SPbe_Q1wtiZQCmo0QKUy",x="TRp4tgG7_cymGIXDevIP",v="tC1Y_nwyyly7cpIGqF5K",g="l93AfoV_qHnMQSQBB5GK",j="DgDBmSR2sbwji2UfqxIf",p="EkGb0ZzhswreSvpZoioY";var f=s(86070);const y=(0,a.memo)((e=>{const{uri:t,title:s,imageUrl:a,date:y,subTitle:N,firstParty:C,onClick:b}=e,S=y?(0,c.l4)(y):void 0;return(0,f.jsx)(o.N,{to:t,className:d,"data-testid":"concert-card",onClick:b,children:(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)(l.b,{children:(0,f.jsx)("div",{role:"img",className:p,style:{backgroundImage:`url(${a})`},children:!a&&(0,f.jsx)(r.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),S&&(0,f.jsxs)("time",{className:u,dateTime:y,children:[(0,f.jsx)(i.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(S)}),(0,f.jsx)(i.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(S)})]}),(0,f.jsxs)("div",{className:h,dir:"auto",children:[(0,f.jsx)(i.E,{as:"h2",variant:"bodyMedium",className:x,children:s}),(0,f.jsxs)("div",{className:v,children:[C&&(0,f.jsx)("span",{className:j,children:(0,f.jsx)(n.D,{size:"small"})}),(0,f.jsx)(i.E,{as:"span",className:g,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:N})]})]})]})})}))},77957:(e,t,s)=>{s.d(t,{bU:()=>n,he:()=>i,nm:()=>r});var a=s(42534);const r=(e,t)=>{if(!e)return"/concerts";const s=t?.normalize().replaceAll(/\W+/g,"-");return s?`/concerts/location/${e}-${s}`:`/concerts/location/${e}`};const i=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),n=e=>(0,a.x)(e,{representation:"date"})},92389:(e,t,s)=>{s.d(t,{d:()=>a});const a=new(s(96266).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},98046:(e,t,s)=>{s.d(t,{$:()=>a});const a=new(s(96266).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},6005:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Kt});var a=s(77),r=s(15231),i=s(3561),n=s(59677),o=s(41331),c=s(980),l=s(62462),d=s(13796),m=s(59092),u=s(16373),h=s(99168),x=s(90436),v=s(27275),g=s(7029),j=s(30758),p=s(11877),f=s(66475),y=s(96771),N=s(42838),C=s(91360),b=s(77957),S=s(82606),_=s(4139);const k="m8qhw073nx4vyHqaKQNk",I="ynP6muypg8KBMGNcHY5O",R="oDWtgFmvo78XypRSXSZE",w="XWKf1nJGSBaIxrSQhIft",E="nodWKfeO11pb9KDWwHMz",T="oFT4l9ImW_EmgL7n4Gpw";var M=s(86070);const D=(0,j.memo)((e=>{const{location:t,showTime:s,ageRestriction:a,htmlDescription:i,doorsOpenTime:n,spec:c}=e,l=(0,_.s)(),d=t.metroAreaLocation?(0,b.nm)(t.metroAreaLocation?.geonameId,t.metroAreaLocation?.fullName):null;return(0,M.jsxs)("div",{className:k,children:[i?.trim()&&(0,M.jsxs)("div",{className:I,children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",className:R,children:o.Ru.get("artist.about")}),(0,M.jsx)(N.q,{html:i,onTimeStampClick:()=>{}})]}),(0,M.jsxs)("div",{className:I,children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",className:R,children:o.Ru.get("tracklist.header.venue")}),(0,M.jsxs)("div",{className:T,children:[(0,M.jsx)(p.t,{className:w}),(0,M.jsxs)("div",{children:[(0,M.jsx)(r.E,{as:"h4",variant:"bodyMediumBold",className:E,children:t.name}),(0,M.jsx)(r.E,{as:"p",variant:"bodyMedium",children:(0,S.im)({...t,name:""})})]})]}),(0,M.jsxs)("div",{className:T,children:[(0,M.jsx)(f.p,{className:w}),(0,M.jsxs)("div",{children:[(0,M.jsxs)(r.E,{as:"h4",variant:"bodyMediumBold",className:E,children:[n&&o.Ru.get("concert.door_time",o.Ru.formatDate(n,{timeStyle:"short"})),n&&" â€¢ ",o.Ru.get("concert.show_time",o.Ru.formatDate(s,{timeStyle:"short"}))]}),a?.trim()&&(0,M.jsx)(r.E,{as:"p",variant:"bodyMedium",children:a})]})]}),d&&(0,M.jsxs)("div",{className:T,children:[(0,M.jsx)(y.T,{className:w}),(0,M.jsx)(C.N,{to:d,onClick:()=>(e=>{const t=c.concertLocationLinkFactory().hitUiNavigate({destination:e});l.logInteraction(t)})(d),children:(0,M.jsx)(r.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:o.Ru.get("concert.see_more_events_in_location",t.metroAreaLocation?.fullName)})})]})]})]})}));var L=s(39503),U=s(14392),F=s(31352),P=s(4924),A=s(99707),B=s(83307),q=s(65676),K=s(78330),z=s(2772);const Z=j.memo((function({uri:e}){const{spec:t}=(0,z.o)(e);return(0,M.jsx)(K.pZ,{value:"concert",children:(0,M.jsxs)(P.W,{children:[(0,M.jsx)(q.h,{children:(0,M.jsx)(A.m,{spec:t,uri:e,displayText:o.Ru.get("context-menu.copy-concert-link")})}),(0,M.jsx)(B.q,{spec:t,uri:e})]})})}));var V=s(89531),O=s(81626),Q=s(94816),W=s(27046),Y=s(92389),H=s(98046),$=s(20769),G=s(52891),X=s(26205);const J="JRuVlk6wpKk6ok7zuW6l",ee="YpfopxY2udneDY34uzRN",te="KI_0F1jtTR5tWgl7gZ1E",se="gKtc3TdowDTXBaVESi1D",ae="V8TIr8yJq4tYZfPEzm12",re="rWFRSaU8daVvtbWEjvp7",ie="VvL91cIRcCi1hJh0K845",ne="LdW0YNvo_Y77hgqhL4zY",oe="cTkykhjfHxkEGKbxSxXw",ce="MaK8gvvxEqNafaMwXWWM",le="XgeTnLs82tTjczDR6oKn",de="P3fE7wn6Tqnibn3gljKV",me="b3qjYcKXwrvfkQkOLMhZ",ue="A8LG_5Dvp7IiXDtdR571",he="O0PSSw8ttrMn9lzq_L16",xe="D_ffrfn62aOgZKOFfZVr",ve="OH4mOZCual2ejIodzIkL",ge="se_ixDV6hBf7lve861oU",je="YDAJHPP5lDmg71SdvJZC",pe="lKQxSRsi8KcoYx5D7mjh",fe="LUMel_X4gQK0J1i6X0sC",ye="eIA_y6wnyKS7F4BkMraV",Ne="CKbduoHBINBakBcguVzi",Ce="oCmeNmHdfNzMD6n4mSqw",be="l6M4kfGer7xxBaIPco5p",Se="r5hQwOq0RGo1ptvIthJ0",_e="HRKlEfCQE6VjdRRg0NRf",ke="YDoK0ksaHmDfScvMhW4l",Ie="ATEdvw7q5RVFqV_7k5xm",Re="UHICx5Pfx66QaNrl4qIZ",we="G3mQO0982j3xeMZSBLbU",Ee=(e,t)=>e(Y.d,{concertUri:t}),Te=(e,t)=>e(H.$,{concertUri:t}),Me=(0,j.memo)((e=>{const[t,s]=(0,j.useState)(!1),{concertUri:a,entitySpec:r}=e,i=(0,j.useMemo)((()=>r?.interestedButtonFactory()),[r]),{getGraphQLLoader:n}=(0,$.mv)(),c=n(),{addConcertToLibraryMutation:l=Ee,removeConcertFromLibraryMutation:d=Te}=e,m=(0,X.t)(i),u=(0,_.s)(),{enqueueSnackbar:h}=(0,G.d)();return(0,M.jsx)(W.Zp,{label:o.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,M.jsx)(V.n,{ref:m,size:"small",iconLeading:e.saved?O.i:Q.u,className:fe,"aria-checked":e.saved,disabled:t,onClick:async()=>{s(!0);try{if(e.saved){const t=i?.hitRemoveInterest();t&&u.logInteraction(t),await d(c,a),await e.onSaveConcert(),h(o.Ru.get("concerts_removed-from-your-saved-events"))}else{const t=i?.hitAddInterest();t&&u.logInteraction(t),await l(c,a),await e.onSaveConcert(),h(o.Ru.get("concerts_added-to-your-saved-events"))}}finally{s(!1)}},children:o.Ru.get("concerts_interested")})})}));var De=s(74946),Le=s(69170);var Ue=s(71963),Fe=s(74554),Pe=s(31385),Ae=s(45237),Be=s(76355);const qe="m8nwW8kkQCgKh2Wo82Qw",Ke="xiSw7Lh5ojpJOB4JogfW",ze="HGzguF7WF1y4htrRTgR9",Ze="JtOivQIBj0bdIftkeZ2u",Ve=e=>(0,M.jsx)(Be.A,{contentLabel:o.Ru.get("concerts.no_codes_title"),isOpen:!0,className:qe,onRequestClose:e.onClose,children:(0,M.jsxs)("section",{className:ze,children:[(0,M.jsx)("div",{className:Ke,children:(0,M.jsx)(Oe,{"aria-label":o.Ru.get("close"),iconOnly:Fe.M,size:"small",onClick:e.onClose})}),(0,M.jsxs)("div",{children:[(0,M.jsx)(r.E,{variant:"titleSmall",semanticColor:"textBase",children:o.Ru.get("concerts.no_codes_title")}),(0,M.jsx)("div",{children:(0,M.jsx)(r.E,{children:o.Ru.get("concerts.no_codes_message")})}),(0,M.jsx)("div",{className:Ze,children:(0,M.jsx)(De.$,{href:e.url,target:"_blank",iconTrailing:Pe.H,children:o.Ru.get("concerts.event.view")})})]})]})});var Oe=(0,Ue.Ay)(Ae.H).withConfig({displayName:"PresaleNoCodesModal___StyledButtonTertiary",componentId:"sc-1yajat8-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),Qe=s(96266);const We=new Qe.l("requestPromoCode","mutation","e90e712768b6041ed97f49184289f5fe0d8841134dd715f1f79c704994cd0ac7",null),Ye=(e,t)=>e&&e(We,{accessCode:t}),He=e=>{const[t,s]=(0,j.useState)(!1),[a,r]=(0,j.useState)(!1),{requestPromoCode:i=Ye}=e,{getGraphQLLoader:n}=(0,$.mv)(),c=n();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(De.$,{className:ye,size:"small",onClick:async()=>{s(!0);try{const n=await i(c,e.accessCode);a=n?.data?.requestEventOfferPromoCode,void 0!==a&&"code"in a&&e.onComplete(n.data.requestEventOfferPromoCode.code),t=n?.data?.requestEventOfferPromoCode,void 0!==t&&"message"in t&&r(!0),s(!1)}catch{r(!0),s(!1)}var t,a},children:t?(0,M.jsx)(Le.U,{}):o.Ru.get("concerts.get_access")}),a&&(0,M.jsx)(Ve,{onClose:()=>r(!1),url:e.url})]})};var $e=s(45292),Ge=s(5248),Xe=s(65968),Je=s(61903);const et=(0,j.lazy)((()=>s.e(353).then(s.bind(s,50353)))),tt=(0,j.memo)((e=>{const[t,s]=(0,j.useState)(""),{concertUri:a,offer:i,position:n,spec:c}=e,l=i.soldOut,d="Spotify"===i.providerName,m=i.url,u=(0,_.s)(),h=(0,$e.W)(),x=(0,j.useMemo)((()=>c.ticketProviderCellFactory({identifier:i.providerName,position:n,uri:i.url})),[c,i.providerName,n,i.url]),v=(0,X.t)(x),g=()=>{const e=x.hitNavigateToExternalUri({destination:i.url});e&&u.logInteraction(e),h({targetUri:a,intent:"find-concert",type:"click"})},p=(0,j.useMemo)((()=>{if(l)return(0,M.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Se,children:o.Ru.get("concerts.soldout")});if(i.urlType===Je.I2.EventPage)return null;const e={"on-sale":o.Ru.get("concerts.on_sale"),presale:o.Ru.get("concerts.presale")};return(0,M.jsxs)(M.Fragment,{children:[e[i.saleType]&&(0,M.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ce,children:e[i.saleType]}),d&&i.minPrice&&(0,M.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ne,children:o.Ru.get("concerts.ticket_price",i.minPrice)})]})}),[l,i.urlType,i.saleType,i.minPrice,d]),f=(0,j.useMemo)((()=>i.urlType===Je.I2.EventPage||l?(0,M.jsx)(De.$,{className:ye,iconTrailing:Ge.p,size:"small",children:o.Ru.get("concerts.event.view")}):"presale"===i.saleType&&i.accessCode?(0,M.jsx)(He,{onComplete:e=>s(e),accessCode:i.accessCode,url:i.url}):(0,M.jsx)(De.$,{className:ye,iconTrailing:Ge.p,size:"small",children:d?o.Ru.get("concert_buy_tickets"):o.Ru.get("concert_find_tickets")})),[d,l,i.accessCode,i.saleType,i.url,i.urlType]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("a",{href:m,className:le,target:"_blank",ref:v,onClick:e=>{"presale"!==i.saleType?g():e.preventDefault()},children:[(0,M.jsx)("div",{className:de,children:(0,M.jsx)(Xe._,{loading:"eager",src:i.providerImageUrl,height:"100%",width:"100%",className:me,children:(0,M.jsx)(y.T,{className:ue,size:"medium"})})}),(0,M.jsxs)("div",{className:he,children:[(0,M.jsxs)("div",{dir:"auto",className:be,children:[p,(0,M.jsx)(r.E,{as:"p",semanticColor:"textSubdued",children:i.providerName})]}),f]})]}),t&&(0,M.jsx)(et,{title:i.providerName,url:m,dates:{start:i.dates.startDateIsoString,end:i.dates.endDateIsoString},code:t,onClick:g,onClose:()=>s("")})]})})),st=(0,j.memo)((e=>{const{concertUri:t,offers:s,entitySpec:a}=e,i=(0,j.useMemo)((()=>a.ticketProviderListFactory()),[a]),n=(0,X.t)(i),c=!!s.find((e=>e.urlType===Je.I2.TicketPage));return(0,M.jsxs)(M.Fragment,{children:[c&&(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert.header.tickets_available_on")}),(0,M.jsx)("div",{ref:n,className:oe,children:s.map(((e,s)=>(0,M.jsx)(tt,{concertUri:t,offer:e,position:s,onRemindMe:()=>{},spec:i},e.url)))}),(0,M.jsx)(r.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:ce,children:o.Ru.get("events_page.disclaimer")})]})}));var at=s(39733),rt=s(19019);const it=e=>{const{locationName:t,latitude:s,longitude:a,onClick:i}=e,n=new URL("https://maps.google.com/");return n.searchParams.set("q",t),s&&a&&n.searchParams.set("ll",`${s},${a}`),(0,M.jsx)("a",{href:n.href,target:"_blank",onClick:()=>i?.(n.href),children:(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",children:t})})},nt=(0,j.memo)((e=>{if((0,at.NC)(rt.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){const t=e.venue.data.uri;return(0,M.jsx)(C.N,{to:t,onClick:()=>e.onClick?.(t),children:(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",children:e.locationName})})}var t;return(0,M.jsx)(it,{...e})}));var ot=s(58708),ct=s(45866);const lt=(0,j.memo)((e=>{const{concert:t,entitySpec:s}=e,a=(0,_.s)(),i=(0,ct.V)(),n=(0,ot.l4)(t.startDateIsoString);if((0,ot.m7)(t.startDateIsoString))return(0,M.jsxs)("div",{className:ne,children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert_event_ended")}),(0,M.jsx)(r.E,{variant:"bodyMedium",children:(0,M.jsx)(C.N,{to:"spotify:concerts",children:o.Ru.get("concert_past_message")})})]});return(0,M.jsxs)("div",{className:ne,children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",className:_e,children:(0,M.jsx)(nt,{venue:t.venue,locationName:(0,S.im)(t.location),latitude:t.location.coordinates?.latitude,longitude:t.location.coordinates?.longitude})}),(0,M.jsx)(r.E,{as:"h3",variant:"bodySmall",className:je,children:[(0,ot.Y)(n),(0,ot.WB)(n)].join(" â€¢ ")}),(0,M.jsxs)("div",{className:J,children:[!i&&(0,M.jsx)(Me,{concertUri:t.uri,entitySpec:s,saved:t.saved,onSaveConcert:e.onSaveConcert}),(0,M.jsx)(U.w,{uri:t.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{const e=s.shareEventButtonFactory({uri:t.uri}).hitShare({entityToBeShared:t.uri,shareId:t.uri});e&&a.logInteraction(e)},className:ke,ariaLabel:o.Ru.get("concerts_share_with_friends")}),(0,M.jsx)(F.b,{menu:(0,M.jsx)(Z,{uri:t.uri}),onShow:()=>{const e=s.contextMenuButtonFactory().hitUiReveal();e&&a.logInteraction(e)},children:(0,M.jsx)(L.e,{size:"large"})})]}),(0,M.jsx)(st,{concertUri:t.uri,offers:t.offers.items,entitySpec:s})]})}));var dt=s(8241),mt=s(40815),ut=s(60122),ht=s(97335);const xt="Dry_NQGsDIHDZtrVXCkm",vt="afT9IeZ3a3xSlKP0pSJH",gt="cBs7zoipfqjsCHbDjY_p",jt="wDz6TsRKNxwV4mlO1EMX",pt="tICcDjrC0CkSMO2fZZNy",ft="uZhL8I5r7TVs9mrdSchW",yt="B7ChxzxV0z17kJj9aZSD",Nt=(0,j.memo)((e=>{const{imageUri:t,name:s,uri:a,headliner:i,onClick:n}=e,c=(0,M.jsxs)(C.N,{to:a,className:vt,onClick:n,children:[t?(0,M.jsx)(ht.b,{children:(0,M.jsx)("div",{"data-testid":"image-container",className:yt,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,M.jsxs)("div",{className:gt,children:[i&&(0,M.jsx)("div",{className:pt,children:(0,M.jsx)(r.E,{as:"h4",variant:"bodySmallBold",className:ft,children:o.Ru.get("concert.label.headliner")})}),(0,M.jsx)(r.E,{as:"h2",variant:"titleMedium",className:jt,children:s})]})]});return(0,M.jsx)("div",{className:xt,children:c})})),Ct=Nt;var bt=s(77674);const St=(e,t)=>new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime(),_t=({artist:e,spec:t})=>{const s=(0,_.s)(),a=e.goods.events.concerts.items.filter((e=>e.nearUser)).sort(St).shift(),r=a&&(e=>{const t=o.Ru.formatDate((0,ot.l4)(e?.date.isoString),{day:"numeric",month:"short"});return e.venue.location?.name?`${t}, ${e.venue.location.name}`:t})(a),i=e.goods.events.userLocation?.name,n=`${e.uri}:concerts`;return(0,M.jsxs)("div",{className:Re,children:[a&&i&&(0,M.jsxs)("div",{className:we,children:[(0,M.jsx)(bt.Z,{children:o.Ru.get("concerts.next_concert_near_location_colon",i)}),(0,M.jsx)(C.N,{to:a.uri,onClick:()=>(e=>{const a=t.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e});s.logInteraction(a)})(a.uri),children:(0,M.jsx)(bt.Z,{semanticColor:"textSubdued",children:r})})]}),(0,M.jsxs)("div",{className:we,children:[(0,M.jsx)(bt.Z,{children:o.Ru.get("concerts.on_tour_colon")}),(0,M.jsx)(C.N,{to:n,onClick:()=>{const e=t.artistEventsLinkFactory({uri:n}).hitUiNavigate({destination:n});s.logInteraction(e)},children:(0,M.jsx)(bt.Z,{semanticColor:"textSubdued",children:o.Ru.get("concerts.view_all_upcoming_concerts_count",e.goods.events.concerts.totalCount)})})]})]})},kt=(0,j.memo)((e=>{const{artist:t,position:s,lineupSpec:a}=e,r=(0,j.useMemo)((()=>a.artistRowFactory({position:s,uri:t.uri})),[a,s,t.uri]),i=(0,_.s)(),n=t.relatedContent.featuringV2.items.flatMap((e=>{const{data:t}=e;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),c=t.discography.popularReleasesAlbums.items,l=t.visuals.avatarImage?.sources?.[0],d=(0,M.jsx)(Ct,{uri:t.uri,name:t.profile.name,imageUri:l?.url,headliner:0===s,onClick:()=>{const e=r?.artistCardFactory().hitUiNavigate({destination:t.uri});e&&i.logInteraction(e)}},t.uri),m=n.map(((e,t)=>{const s="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,M.jsx)(mt.B,{index:t,uri:e.uri,name:e.name,images:e.images.items[0]?.sources,description:e.description||"",authorName:s},e.uri)})),u=c.map(((e,t)=>{const s=e.artists.items.map((e=>({uri:e.uri,name:e.profile.name})));return(0,M.jsx)(dt.a,{uri:e.uri,index:t,artists:s,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,M.jsxs)(K.pZ,{value:"headered-grid",index:s,children:[(0,M.jsx)(ut.$,{title:0===s?o.Ru.get("concert.lineup"):"",total:2+m.length+u.length,seeAllUri:t.uri,seeAllLabel:o.Ru.get("view.see-all"),onClickShelfSeeAll:()=>{const e=r?.seeDiscographyLinkFactory().hitUiNavigate({destination:t.uri});e&&i.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[d,null,...m,...u],className:Ie}),(0,M.jsx)(_t,{artist:t,spec:r})]},t.uri)})),It=(0,j.memo)((e=>{const{artists:t,entitySpec:s}=e,a=(0,j.useMemo)((()=>s.lineupArtistsFactory()),[s]),r=(0,X.t)(a);return(0,M.jsx)("div",{ref:r,className:xe,children:t.flatMap(((e,t)=>{if("Artist"!==e.data.__typename)return[];const s=e.data;return[(0,M.jsx)(kt,{artist:s,position:t,lineupSpec:a},s.uri)]}))})}));var Rt=s(49867);const wt="r4YSqQ00n2_0i2tWtlPj",Et="yEpakiIFqVrPYCcY_UcX",Tt="TIxb8ebn0Jes35eTIcCQ",Mt=(0,j.memo)((e=>(0,M.jsxs)(C.N,{to:"spotify:concerts",className:wt,onClick:e.onClick,children:[(0,M.jsx)(ht.b,{children:(0,M.jsx)("div",{className:Tt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,M.jsx)("div",{className:Et,children:(0,M.jsx)(r.E,{as:"h2",variant:"titleSmall",children:o.Ru.get("concerts_browse_more")})})]}))),Dt=(0,j.memo)((e=>{const{concert:t,position:s,recommendedSpec:a}=e,r=(0,_.s)(),i=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),n=i.map((e=>e.profile.name)),o=(0,S.tI)(t.title,t.festival,n)?t.title:(0,S.Ac)(n),c=i[0]?.visuals.avatarImage?.sources[0];return(0,M.jsx)(Rt.A,{uri:t.uri,title:o,date:t.startDateIsoString,subTitle:(0,S.im)(t.location),imageUrl:c?.url,firstParty:t.firstParty,onClick:()=>{const e=a?.concertCardFactory({position:s,uri:t.uri}).hitUiNavigate({destination:t.uri});e&&r.logInteraction(e)}})})),Lt=(0,j.memo)((e=>{const{relatedConcerts:t,entitySpec:s}=e,a=(0,j.useMemo)((()=>s.recommendedConcertsFactory()),[s]),r=(0,_.s)(),i=(0,X.t)(a),n=t.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[]));if(0===n.length)return null;return(0,M.jsx)("div",{ref:i,className:ge,"data-testid":"concert-recommendations",children:(0,M.jsx)(K.pZ,{value:"headered-grid",children:(0,M.jsxs)(ut.$,{title:o.Ru.get("concert.similar_events"),total:t.totalCount,className:pe,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:o.Ru.get("view.see-all"),withEncoreCards:!1,children:[(0,M.jsx)(Mt,{onClick:()=>{const e=a?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&r.logInteraction(e)}},"browse"),n.map(((e,t)=>(0,M.jsx)(Dt,{position:t,concert:e,recommendedSpec:a},e.uri)))]})})})}));var Ut=s(61869);const Ft=new Qe.l("concert","query","52470cde70b165f7dbf74fa9bcdff4eeee7e7eddadfe12bde54a25ef844abb38",null);var Pt=s(35369),At=s(64345),Bt=s(78487);const qt=e=>{const{concert:t}=e,{spec:s}=(0,Bt.r)(i.b,{data:{identifier:(0,n.o_)(t.uri)?.id,uri:t.uri}}),a=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),o=a[0].visuals.headerImage;(0,Pt.z)(o?.extractedColors?.colorDark.hex);const g=a.map((e=>e.profile.name)),j=(0,S.tI)(t.title,t.festival,g)?t.title:(0,S.re)(g),p=(0,ot.l4)(t.startDateIsoString);return(0,M.jsxs)("section",{className:ae,children:[(0,M.jsx)(l.Q,{children:(0,At.K9)(t.title,t.location.city,t.location.name)}),(0,M.jsxs)(m.z,{backgroundImages:o?.sources,children:[(0,M.jsxs)(u.Y,{children:[(0,M.jsx)(d.Z,{children:(0,M.jsx)("div",{className:ee,children:(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",className:te,children:(0,ot.Fn)(p)})})}),(0,M.jsx)(v.mm,{className:re,children:j})]}),(0,M.jsx)(h.h,{children:(0,M.jsx)("div",{className:ve,children:(0,M.jsx)(x.X,{text:j})})})]}),(0,M.jsxs)("div",{className:se,children:[(0,M.jsx)(c.K,{backgroundColor:o?.extractedColors?.colorDark.hex}),(0,M.jsxs)("div",{className:ie,children:[(0,M.jsx)(lt,{concert:t,entitySpec:s,onSaveConcert:e.onSaveConcert}),(0,M.jsx)(It,{artists:t.artists.items,entitySpec:s}),(0,M.jsx)(D,{location:t.location,showTime:p,htmlDescription:t.htmlDescription,ageRestriction:t.ageRestriction,doorsOpenTime:t.doorsOpenTimeIsoString?(0,ot.l4)(t.doorsOpenTimeIsoString):null,spec:s}),(0,M.jsx)(Lt,{relatedConcerts:t.relatedConcerts,entitySpec:s})]})]})]})},Kt=()=>{const{concertId:e}=(0,a.g)(),t=`spotify:concert:${e}`,{loading:s,error:r,data:i,invalidate:n}=(c={uri:t},(0,Ut.I)(Ft,c,l));var c,l;return s?(0,M.jsx)(g.A,{hasError:!1,errorMessage:""}):r||"ConcertV2"!==i?.concert.__typename?(0,M.jsx)(g.A,{hasError:!0,errorMessage:o.Ru.get("concert.error.concert_not_found_title")}):(0,M.jsx)(qt,{concert:i.concert,onSaveConcert:n})}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map